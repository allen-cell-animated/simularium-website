(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/r6d":function(e,t,n){e.exports={container:"style__container--3oPFL",text:"style__text--1N-mQ"}},"0VPI":function(e,t,n){e.exports={"page-header":"style__page-header--18F6z",pageHeader:"style__page-header--18F6z",home:"style__home--3Sd_4",verticalBar:"style__verticalBar--7wMhz"}},"1Tpd":function(e,t,n){e.exports={container:"style__container--1Oeu8"}},"2VrW":function(e,t,n){e.exports={container:"style__container--13uHQ","link-column":"style__link-column--2iPpX",linkColumn:"style__link-column--2iPpX"}},"2YZa":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"receiveMetadata",(function(){return de})),n.d(r,"requestMetadata",(function(){return he})),n.d(r,"requestCachedPlotData",(function(){return ye})),n.d(r,"setSimulariumController",(function(){return ge})),n.d(r,"receiveAgentTypeIds",(function(){return be})),n.d(r,"receiveAgentNamesAndStates",(function(){return ve})),n.d(r,"changeToLocalSimulariumFile",(function(){return Ee})),n.d(r,"changeToNetworkedFile",(function(){return we})),n.d(r,"receiveSimulariumFile",(function(){return je})),n.d(r,"setViewerStatus",(function(){return Oe}));var a={};n.r(a),n.d(a,"isLocalFileInterface",(function(){return De})),n.d(a,"isNetworkSimFileInterface",(function(){return Ne}));var o={};n.r(o),n.d(o,"getMetadata",(function(){return Le})),n.d(o,"getPlotData",(function(){return ze})),n.d(o,"getFirstFrameTimeOfCachedSimulation",(function(){return Ve})),n.d(o,"getLastFrameTimeOfCachedSimulation",(function(){return Me})),n.d(o,"getNumFrames",(function(){return He})),n.d(o,"getTimeStepSize",(function(){return Ue})),n.d(o,"getAgentIds",(function(){return Be})),n.d(o,"getSimulariumFile",(function(){return We})),n.d(o,"getSimulariumController",(function(){return Ye})),n.d(o,"getViewerStatus",(function(){return Je})),n.d(o,"getViewerError",(function(){return Ke})),n.d(o,"getIsNetworkedFile",(function(){return Qe})),n.d(o,"getKeysOfMetadata",(function(){return qe})),n.d(o,"getAgentDisplayNamesAndStates",(function(){return Ze})),n.d(o,"getAllTags",(function(){return Xe})),n.d(o,"getUiDisplayDataTree",(function(){return Ge}));var i={};n.r(i),n.d(i,"deselectFile",(function(){return rt})),n.d(i,"changeTime",(function(){return at})),n.d(i,"onSidePanelCollapse",(function(){return ot})),n.d(i,"setAgentsVisible",(function(){return it})),n.d(i,"turnAgentsOnByDisplayKey",(function(){return lt})),n.d(i,"highlightAgentsByDisplayKey",(function(){return ct})),n.d(i,"setAllAgentColors",(function(){return ut})),n.d(i,"changeAgentColor",(function(){return st})),n.d(i,"selectMetadata",(function(){return mt})),n.d(i,"dragOverViewer",(function(){return ft})),n.d(i,"resetDragOverViewer",(function(){return pt}));var l={};n.r(l),n.d(l,"getSelections",(function(){return yt})),n.d(l,"getSelectedFiles",(function(){return gt})),n.d(l,"getCurrentTime",(function(){return bt})),n.d(l,"getAgentsOnById",(function(){return vt})),n.d(l,"getAgentColors",(function(){return Et})),n.d(l,"getVisibleAgentsNamesAndTags",(function(){return wt})),n.d(l,"getHighlightedAgentsNamesAndTags",(function(){return jt})),n.d(l,"getNumberCollapsed",(function(){return Ot})),n.d(l,"getFileDraggedOverViewer",(function(){return St})),n.d(l,"getHightLightedAgents",(function(){return kt})),n.d(l,"getAgentsToHide",(function(){return _t}));n("B9cy");var c=n("Ol7k"),u=(n("qKs0"),n("9GYK"),n("VXxg"),n("q1tI")),s=n.n(u),m=n("i8i4"),f=n("/MKj"),p=n("55Ip"),d=n("Ty5D"),h="/api/".concat("v1"),y="https://forum.allencell.org/c/software-code/simularium/",g="".concat(y,"15/bug-report"),b="https://github.com/allen-cell-animated/simularium-website",v="".concat(b,"/issues"),E="https://gitlab.com/f.nedelec/cytosim",w="https://readdy.github.io/";function j(e,t){return"".concat("agentviz-ui","/").concat(e.toUpperCase(),"/").concat(t.toUpperCase())}function O(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0,a=e[r.type];return a&&a.accepts(r)?a.perform(n,r):n}}var S=j("batch","batch-actions");function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return{type:t,batch:!0,payload:e}}function _(e){return e&&e.batch&&Array.isArray(e.payload)}var C,A=function(e){return j("metadata",e)},T=A("receive"),x=A("request"),P=A("receive-ids"),D=A("receive-agent-names"),N=A("receive-simularium-file"),F=A("load-local-file"),I=A("set-sim-controller"),R=A("set-viewer-status"),L=A("load-networked-file"),z=A("request-plot-data");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U,B={firstFrameTime:0,lastFrameTime:0,timeStep:0,agentIds:[],agentUiNames:[],simulariumFile:{name:"",data:null,lastModified:null},simulariumController:null,viewerStatus:"empty",viewerError:null},W=O((H(C={},T,{accepts:function(e){return e.type===T},perform:function(e,t){return M(M({},e),t.payload)}}),H(C,P,{accepts:function(e){return e.type===P},perform:function(e,t){return M(M({},e),{},{agentIds:t.payload})}}),H(C,D,{accepts:function(e){return e.type===D},perform:function(e,t){return M(M({},e),{},{agentUiNames:t.payload})}}),H(C,N,{accepts:function(e){return e.type===N},perform:function(e,t){return M(M({},e),{},{simulariumFile:t.payload})}}),H(C,I,{accepts:function(e){return e.type===I},perform:function(e,t){return M(M({},e),{},{simulariumController:t.payload})}}),H(C,R,{accepts:function(e){return e.type===R},perform:function(e,t){return M(M({},e),{},{viewerStatus:t.payload.status,viewerError:"error"===t.payload.status?{message:t.payload.errorMessage,htmlData:t.payload.htmlData}:""})}}),C),B),Y=n("j1EC"),J=n.n(Y),K=n("Wt1U"),Q=n.n(K),q=function(e){return j("selection",e)},Z=q("deselect-file"),X=(q("select-file"),q("select_metadata")),G=q("change-time-head"),$=q("change-content-width"),ee=q("highlight-agents-by-key"),te=q("turn-agents-on-by-name"),ne=q("set-agents-visible"),re=q("drag-over-viewer"),ae=q("drag-off-viewer"),oe=q("set-all-agent-colors"),ie=q("change-agent-color");function le(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe={files:[],time:0,numberPanelsCollapsed:0,visibleAgentKeys:{},highlightedAgentKeys:{},draggedOverViewer:!1,agentColors:{}},pe=O((me(U={},Z,{accepts:function(e){return e.type===Z},perform:function(e,t){return se(se({},e),{},{files:Q.a.apply(void 0,[e.files].concat(le(J()(t.payload))))})}}),me(U,ne,{accepts:function(e){return e.type===ne},perform:function(e,t){return se(se({},e),{},{visibleAgentKeys:t.payload})}}),me(U,te,{accepts:function(e){return e.type===te},perform:function(e,t){return se(se({},e),{},{visibleAgentKeys:se(se({},e.visibleAgentKeys),t.payload)})}}),me(U,X,{accepts:function(e){return e.type===X},perform:function(e,t){return se(se({},e),{},me({},t.key,t.payload))}}),me(U,G,{accepts:function(e){return e.type===G},perform:function(e,t){return se(se({},e),{},{time:t.payload})}}),me(U,$,{accepts:function(e){return e.type===$},perform:function(e,t){return se(se({},e),{},{numberPanelsCollapsed:e.numberPanelsCollapsed+t.payload})}}),me(U,ee,{accepts:function(e){return e.type===ee},perform:function(e,t){return se(se({},e),{},{highlightedAgentKeys:se(se({},e.highlightedAgentKeys),t.payload)})}}),me(U,oe,{accepts:function(e){return e.type===oe},perform:function(e,t){return se(se({},e),{},{agentColors:t.payload})}}),me(U,ie,{accepts:function(e){return e.type===ie},perform:function(e,t){return se(se({},e),{},{agentColors:se(se({},e.agentColors),t.payload)})}}),me(U,re,{accepts:function(e){return e.type===re},perform:function(e){return se(se({},e),{},{draggedOverViewer:!0})}}),me(U,ae,{accepts:function(e){return e.type===ae},perform:function(e){return se(se({},e),{},{draggedOverViewer:!1})}}),U),fe);n("xaoX");function de(e){return{payload:e,type:T}}function he(){return{type:x}}function ye(e){return{payload:e,type:z}}function ge(e){return{payload:e,type:I}}function be(e){return{payload:e,type:P}}function ve(e){return{payload:e,type:D}}function Ee(e){return{payload:e,type:F}}function we(e,t){return{payload:e,controller:t,type:L}}function je(e){return{payload:e,type:N}}function Oe(e){return{payload:e,type:R}}var Se=n("dS2q"),ke=n("cr+I"),_e=n.n(ke),Ce=n("7tbW"),Ae=n.n(Ce),Te=n("J2m7"),xe=n.n(Te),Pe=n("G4qV"),De=function(e){return!!e.lastModified},Ne=function(e){return!!e.title},Fe=[{modelName:"Actin in Clathrin-mediated Endocytosis",id:"endocytosis.simularium",title:"Actin in Clathrin-mediated Endocytosis",totalSimulatedTime:"15s",authors:"Matthew Akamatsu et al.",publication:{title:"Principles of self-organization and load adaptation by the actin cytoskeleton during clathrin-mediated endocytosis",journal:"eLife",year:2020,url:"https://elifesciences.org/articles/49840"},description:"A CytoSim model of a branched actin network internalizing an endocytic pit against membrane tension.",imageFile:n.p+"31fc4bc3f00af10d1bd10494beacb2ce.png",gifFile:n.p+"32df7bcbeb11df171dca0cf7e939ff6a.gif"},{modelName:"SARS-CoV-2 Dynamics in Human Lung Epithelium",id:"pc4covid19.simularium",title:"SARS-CoV-2 Dynamics in Human Lung Epithelium",totalSimulatedTime:"4h",authors:"Michael Getz et al.",publication:{title:"Rapid community-driven development of a SARS-CoV-2 tissue simulator",journal:"bioRxiv",year:2020,url:"https://www.biorxiv.org/content/10.1101/2020.04.02.019075v3"},description:"A PhysiCell model of SARS-CoV-2 dynamics in human lung epithelium.",imageFile:n.p+"176732f8e26c1649e4be7996af599692.png",gifFile:n.p+"203f01cfaca3e6c779eea9462a80e5e1.gif"}];function Ie(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Le=function(e){return e.metadata},ze=function(e){return e.metadata.plotData},Ve=function(e){return e.metadata.firstFrameTime},Me=function(e){return e.metadata.lastFrameTime},He=function(e){return e.metadata.numFrames},Ue=function(e){return e.metadata.timeStepSize},Be=function(e){return e.metadata.agentIds},We=function(e){return e.metadata.simulariumFile},Ye=function(e){return e.metadata.simulariumController},Je=function(e){return e.metadata.viewerStatus},Ke=function(e){return e.metadata.viewerError},Qe=Object(Pe.a)([We],(function(e){return!!e.name&&(!!xe()(Fe,{id:e.name})&&Ne(e))})),qe=Object(Pe.a)([Le],(function(e){return Object.keys(e)})),Ze=function(e){return e.metadata.agentUiNames},Xe=Object(Pe.a)([Ze],(function(e){return Ae()(e.reduce((function(e,t){return e=[].concat(Ie(e),Ie(t.displayStates.map((function(e){return e.name}))))}),[]))})),Ge=Object(Pe.a)([Ze],(function(e){return e.length?e.map((function(e){return{title:e.name,key:e.name,children:e.displayStates.length?[{label:"<unmodified>",value:""}].concat(Ie(e.displayStates.map((function(e){return{label:e.name,value:e.id}})))):[]}})):[]})),$e={serverIp:"production-node1-agentviz-backend.cellexplore.net",serverPort:9002},et=Object(Se.a)({process:function(e,t,n){var r=e.baseApiUrl,a=e.plotDataUrl,o=e.httpClient,i=e.action;o.get("".concat(a).concat(r,"/").concat(i.payload.url)).then((function(e){t(de({plotData:e.data.data}))})).catch((function(e){console.log(e)})).then(n)},type:z}),tt=Object(Se.a)({process:function(e,t,n){var r=e.action,a=(0,e.getState)(),o=r.payload,i=ve([]),l=Oe({status:"loading"});t(k([i,l]));var c=Ye(a);c||r.controller&&(c=r.controller,t(ge(c))),c.netConnection||c.configureNetwork($e),c.pause(),c.changeFile(o.name).then((function(){return t(je(o))})).then((function(){return t(ye({url:"".concat(o.name.split(".")[0],"/plot-data.json")}))})).then(n).catch((function(e){t(Oe({status:"error",errorMessage:e.message}))}))},type:L}),nt={actions:r,logics:[et,Object(Se.a)({process:function(e,t,n){var r=e.action,a=(0,e.getState)(),o=Ye(a),i=We(a),l=r.payload;if(!i||i.name!==l.name||i.lastModified!==l.lastModified){!function(){if(_e.a.parse(location.search).trajFileName){var e=new URL(location.href);history.pushState(null,""),e.searchParams.delete("trajFileName"),history.replaceState(null,"",e.href)}}();var c=ve([]),u=Oe({status:"loading"});t(k([c,u])),o.pause(),o.changeFile(l.name,!0,l.data).then((function(){t(je(l))})).then((function(){t(de({plotData:l.data.plotData.data}))})).then(n).catch((function(e){t(Oe({status:"error",errorMessage:e.message,htmlData:e.htmlData||""})),n()}))}},type:F}),tt],reducer:W,selectors:o,types:a};function rt(e){return{payload:e,type:Z}}function at(e){return{payload:e,type:G}}function ot(e){return{payload:e,type:$}}function it(e){return{payload:e,type:ne}}function lt(e){return{payload:e,type:te}}function ct(e){return{payload:e,type:ee}}function ut(e){return{payload:e,type:oe}}function st(e){return{payload:e,type:ie}}function mt(e,t){return{key:e,payload:t,type:X}}function ft(){return{type:re}}function pt(){return{type:ae}}var dt=n("xaJk"),ht=n.n(dt),yt=function(e){return e.selection},gt=function(e){return e.selection.files},bt=function(e){return e.selection.time},vt=function(e){return e.selection.agentIdsOn},Et=function(e){return e.selection.agentColors},wt=function(e){return e.selection.visibleAgentKeys},jt=function(e){return e.selection.highlightedAgentKeys},Ot=function(e){return e.selection.numberPanelsCollapsed},St=function(e){return e.selection.draggedOverViewer},kt=Object(Pe.a)([jt,Ze],(function(e,t){return ht()(t,(function(t,n){if(!e[n.name])return t;if(n.displayStates.length){var r=n.displayStates.filter((function(t){return e[n.name].includes(t.id)})).map((function(e){return e.id}));e[n.name].includes("")&&r.push(""),r.length&&t.push({name:n.name,tags:r})}else e[n.name].length&&t.push({name:n.name,tags:[]});return t}),[])})),_t=Object(Pe.a)([wt,Ze],(function(e,t){return ht()(t,(function(t,n){if(!e[n.name])return t;if(n.displayStates.length){var r=n.displayStates.filter((function(t){return!e[n.name].includes(t.id)})).map((function(e){return e.id}));e[n.name].includes("")||r.push(""),r.length&&t.push({name:n.name,tags:r})}else e[n.name].length||t.push({name:n.name,tags:[]});return t}),[])})),Ct={actions:i,logics:[],reducer:pe,selectors:l,types:n("wL8U")},At=n("vDqi"),Tt=n.n(At),xt=n("ANjH"),Pt=n("/uWW");function Dt(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ft={metadata:nt.reducer,selection:Ct.reducer},It=[].concat(Dt(nt.logics),Dt(Ct.logics)),Rt={baseApiUrl:h,plotDataUrl:"https://aics-agentviz-data.s3.us-east-2.amazonaws.com",httpClient:Tt.a};function Lt(e){var t=Object(Pt.a)(It);t.addDeps(Rt);var n=Object(xt.a)(t),r=function(e,t){return function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a=arguments.length>1?arguments[1]:void 0;return _(a)?a.payload.reduce(n,r):e(r,a)}}(Object(xt.c)(Ft),zt);return e?Object(xt.d)(r,e,n):Object(xt.d)(r,n)}var zt=Object.freeze({metadata:B,selection:fe}),Vt=(n("tU7J"),n("wFql")),Mt=n.p+"f7209ee15ab3ce9e84c3344675783da4.gif",Ht=(n("fu2T"),n("gK9i")),Ut=n.p+"88ab47caa084115f04c032578888a8c9.png",Bt=n("qktS"),Wt=function(){return u.createElement("div",{className:Bt.container},u.createElement("img",{src:Ut}),u.createElement(Ht.a,null,u.createElement(Ht.a.Panel,{header:"Visual Glossary Key",key:"1"},u.createElement("ol",{className:Bt.topLevelList},u.createElement("li",null,u.createElement("b",null,"LOAD MODEL MENU"),u.createElement("br",null),"Use this menu to choose an example model to view, or to select a file from your computer. You can also load a file from your computer by dragging it into the viewport."),u.createElement("li",null,u.createElement("b",null,"CLICK TO SELECT & FOLLOW ANY OBJECT"),u.createElement("br",null),"Left mouse clicking on any object in the 3D viewport will trigger the camera to point at it and to move to a helpful viewing distance. The camera will continue to Follow that object (outlined in bright green) until another another is selected, or all objects are deselected by clicking on an empty space in the viewport’s background. It's easiest to pause the playback before attempting to CLICK on an object to follow."),u.createElement("li",null,u.createElement("b",null,"PLAYBACK CONTROLS, from left to right:"),u.createElement("br",null),u.createElement("ul",null,u.createElement("li",null,"STEP BACK: Step to the previous frame."),u.createElement("li",null,"PLAY/PAUSE: Play or pause playback."),u.createElement("li",null,"STEP FORWARD: Step to the next frame."))),u.createElement("li",null,u.createElement("b",null,"TIMELINE"),u.createElement("br",null),"Drag the PLAYHEAD dot to a specific point in the trajectory file. Some buffering may occur, so please be patient."),u.createElement("li",null,u.createElement("b",null,"TIME READOUT"),u.createElement("br",null),"Displays the current and total simulated time."),u.createElement("li",null,u.createElement("b",null,"CAMERA CONTROLS, from top to bottom:"),u.createElement("br",null),u.createElement("ul",null,u.createElement("li",null,"ZOOM IN: Move the camera in towards the camera’s current target (either the center of the simulated volume by default, or a followed object)."),u.createElement("li",null,"ZOOM OUT: Move the camera away from the camera’s target."),u.createElement("li",null,"RESET CAMERA: Reset the 3D camera to the default (original) position and orientation."))),u.createElement("li",null,u.createElement("b",null,"SHOW / HIDE AGENTS"),u.createElement("br",null),"Show or hide agents of the given type."),u.createElement("li",null,u.createElement("b",null,"HIGHLIGHT AGENTS"),u.createElement("br",null),"Toggle highlighting on agents of the given type with a white outline in the viewport."),u.createElement("li",null,u.createElement("b",null,"MENU TOGGLES"),u.createElement("br",null),"Furl the side menus open or closed.")))))},Yt=(n("14J3"),n("BMrR")),Jt=c.a.Footer,Kt=n("2VrW"),Qt=function(){return u.createElement(Jt,{className:Kt.container},u.createElement(Yt.a,{justify:"space-around"},u.createElement("div",{className:Kt.linkColumn},u.createElement(p.b,{to:"/"},"Simularium Home")),u.createElement("div",{className:Kt.linkColumn},u.createElement("a",{href:"https://www.allencell.org/terms-of-use.html"},"Terms of Use")),u.createElement("div",{className:Kt.linkColumn},u.createElement("a",{href:"https://www.allencell.org/citation-policy.html"},"Citation Policy")),u.createElement("div",{className:Kt.linkColumn},u.createElement("a",{href:"https://www.allencell.org/privacy-policy.html"},"Privacy Policy")),u.createElement("div",{className:Kt.linkColumn},u.createElement("a",{href:"https://forum.allencell.org/c/software-code/simularium/"},"Forum"))),u.createElement(Yt.a,{justify:"space-around"},u.createElement("div",null,"Copyright © 2020 Allen Institute. All Rights Reserved."),u.createElement("div",null,u.createElement("a",{href:"https://www.allencell.org"},"allencell.org"))))},qt=c.a.Content,Zt=Vt.a.Text,Xt=n("JGnA"),Gt=function(){return u.createElement(u.Fragment,null,u.createElement(qt,{className:Xt.content},u.createElement("h1",null,"Getting Started with Simularium"),u.createElement(Wt,null),u.createElement("p",{className:Xt.intro},"To try out the Simularium Viewer, either"," ",u.createElement("a",{href:"https://aics-agentviz-data.s3.us-east-2.amazonaws.com/trajectory/endocytosis.simularium"},"download")," ","our example data or ",u.createElement("a",{href:"#convert-your-data"},"convert")," ","your own data, and drag and drop it onto the"," ",u.createElement(p.b,{to:mi},"viewer"),". More details below:"),u.createElement("ul",{className:Xt.approachBlock},u.createElement("li",null,u.createElement("span",{className:Xt.listHeader},"Drag and drop example data"),u.createElement("br",null),u.createElement("img",{className:Xt.dragDropImage,src:Mt})),u.createElement("ol",null,u.createElement("li",null,"Download the example data"," ",u.createElement("a",{href:"https://aics-agentviz-data.s3.us-east-2.amazonaws.com/trajectory/endocytosis.simularium"},"here"),"."),u.createElement("li",null,"In a web browser (Firefox, Chrome, or Edge), navigate to the"," ",u.createElement(p.b,{to:mi},"Simularium viewer"),"."),u.createElement("li",null,"Drag one of the downloaded files from your file browser onto the the window."))),u.createElement("ul",{className:Xt.approachBlock},u.createElement("li",null,u.createElement("span",{id:"convert-your-data",className:Xt.listHeader},"Convert your data into Simularium format")),u.createElement("ol",null,u.createElement("li",null,"Install"," ",u.createElement("a",{href:"https://docs.conda.io/en/latest/miniconda.html",target:"_blank",rel:"noopener noreferrer"},"Anaconda")," ","if you have not already."),u.createElement("li",null,"In a terminal window, create and activate a new conda environment using either Python 3.7 or 3.8:",u.createElement("p",null,u.createElement(Zt,{code:!0},"conda create -n simularium python=3.8"),u.createElement("br",null),u.createElement(Zt,{code:!0},"conda activate simularium"))),u.createElement("li",null,"Install the simulariumio Python package:",u.createElement("p",null,u.createElement(Zt,{code:!0},"pip install simulariumio"))),u.createElement("li",null,"In your Python script, import the converter and data you need from simulariumio, e.g. for data generated by an engine not specifically supported by simulariumio:",u.createElement("p",null,u.createElement(Zt,{code:!0},"from simulariumio import CustomConverter, CustomData, AgentData")),u.createElement("ul",null,u.createElement("li",null,"These"," ",u.createElement("a",{href:"https://github.com/allen-cell-animated/simulariumio/tree/master/examples",target:"_blank",rel:"noopener noreferrer"},"Jupyter notebooks")," ","provide examples of saving data from different sources in Simularium’s input format."),u.createElement("li",null,"We support the following simulators:",u.createElement("ul",null,u.createElement("li",null,"ReaDDy (",u.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer"},w),")"),u.createElement("li",null,"PhysiCell (",u.createElement("a",{href:"http://physicell.org/",target:"_blank",rel:"noopener noreferrer"},"http://physicell.org/"),")"),u.createElement("li",null,"CytoSim (",u.createElement("a",{href:E,target:"_blank",rel:"noopener noreferrer"},E),")"))),u.createElement("li",null,"If you used one of our supported simulators to generate your data, choose the notebook for that simulator:",u.createElement("ul",null,u.createElement("li",null,u.createElement("a",{href:"https://github.com/allen-cell-animated/simulariumio/blob/master/examples/Tutorial_readdy.ipynb",target:"_blank",rel:"noopener noreferrer"},"ReaDDy")),u.createElement("li",null,u.createElement("a",{href:"https://github.com/allen-cell-animated/simulariumio/blob/master/examples/Tutorial_physicell.ipynb",target:"_blank",rel:"noopener noreferrer"},"PhysiCell")),u.createElement("li",null,u.createElement("a",{href:"https://github.com/allen-cell-animated/simulariumio/blob/master/examples/Tutorial_cytosim.ipynb",target:"_blank",rel:"noopener noreferrer"},"CytoSim")))),u.createElement("li",null,"If you used another simulator to generate your data, choose the notebook for converting"," ",u.createElement("a",{href:"https://github.com/allen-cell-animated/simulariumio/blob/master/examples/Tutorial_custom.ipynb",target:"_blank",rel:"noopener noreferrer"},"custom data"),"."))),u.createElement("li",null,"Run your Python script and notice a file generated at the output path you provided."),u.createElement("li",null,"In a web browser (Firefox, Chrome, or Edge), navigate to the"," ",u.createElement(p.b,{to:mi},"Simularium viewer"),"."),u.createElement("li",null,"Drag the resulting file from your file browser onto the window or use the file upload dialogue to choose your file."))),u.createElement("h1",{id:"browser-support"},"Browser support"),u.createElement("ul",null,u.createElement("li",null,"Currently, Simularium supports Firefox, Chrome, and Edge. Some features may not work on other browsers."),u.createElement("li",null,'If using Safari on a Mac, please enable WebGL 2.0 by choosing Develop > Experimental Features and enabling "WebGL 2.0" (If you do not have a Develop menu in your menu bar, please first choose Safari > Preferences > Advanced and enable "Show Develop menu in menu bar".) Then please reload the viewer.'))),u.createElement(Qt,null))},$t=n.p+"567f3030f686aa0730a40bf932e79c9f.png",en=(n("IzEo"),n("bx4M")),tn=n("YS+i"),nn=function(e){var t=e.trajectory,n=t.id,r=t.title,a=t.totalSimulatedTime,o=t.authors,i=t.publication,l=t.description,c=t.imageFile,s=t.gifFile,m=t.subtitle;return u.createElement(en.a,{className:tn.card,cover:u.createElement(p.b,{to:{pathname:mi,search:"?".concat("trajFileName","=").concat(n)}},u.createElement("div",{className:tn.thumbnail},u.createElement("img",{className:tn.staticThumbnail,alt:"Snapshot of simulation for ".concat(r),src:c}),u.createElement("img",{className:tn.animatedThumbnail,alt:"Snapshot of simulation for ".concat(r),src:s})))},u.createElement("div",{className:tn.cardText},u.createElement("p",{className:tn.simulatedTime},a),u.createElement(p.b,{to:{pathname:mi,search:"?".concat("trajFileName","=").concat(n)}},u.createElement("p",{className:tn.cardTitle},r,m&&u.createElement("span",null,":",u.createElement("br",null),m))),u.createElement("p",null,o),u.createElement("a",{href:i.url,target:"_blank",rel:"noopener noreferrer"},u.createElement("p",{className:tn.publication},i.title,"."," ",u.createElement("span",{className:tn.journal},i.journal," "),"(",i.year,")")),u.createElement("p",null,l)))},rn=n.p+"67e64356a8409ab733523f7d95824934.svg",an=n("YS+i"),on=function(){return u.createElement(en.a,{className:an.card,cover:u.createElement(p.b,{to:mi},u.createElement("img",{src:rn}))},u.createElement("div",{className:an.cardText},u.createElement("p",{className:an.simulatedTime}," "),u.createElement(p.b,{to:mi},u.createElement("p",{className:an.cardTitle},"Load your data")),u.createElement("p",null,"Load your own data into the viewer. Learn how to convert your data"," ",u.createElement("a",{href:"".concat(fi,"#convert-your-data")},"here"),".")))},ln=c.a.Content,cn=n("MNAj"),un=function(){return u.createElement(u.Fragment,null,u.createElement(ln,{className:cn.content},u.createElement("div",{className:cn.panel},u.createElement("h1",null,"Simularium"),u.createElement("h2",null,"Visualize, analyze, interrogate & share biological simulations"),u.createElement("br",null),u.createElement("p",null,"Simularium makes it easy to share and analyze spatial simulations directly in a web browser. Its major goal is to facilitate collaborations between experimental biologists and computational biologists by removing major challenges to accessing, running, sharing, and analyzing simulation results.")),u.createElement("div",{className:cn.trySimulariumPanel,id:"try-simularium-now"},u.createElement("h1",null,"Try Simularium now"),u.createElement("h2",null,"View example simulations or load your own data"),u.createElement("br",null),u.createElement("p",null,"With this first release we present the"," ",u.createElement("i",null,"Simularium Viewer"),", an online visual analysis tool, which is just one component of the larger Simularium platform. The Simularium Viewer provides an online application for visualizing simulation trajectories and related plots."),u.createElement("div",{className:cn.cards},Fe.map((function(e){return u.createElement(nn,{key:e.id,trajectory:e})})),u.createElement(on,null)),u.createElement("div",{className:cn.caption},"Click on any of the examples above to interact with example trajectories from various types of previously published simulations."),u.createElement("p",null,"Simularium v1.0 allows you to interact with precalculated simulation results — including your own results"," ",u.createElement("a",{href:"".concat(fi,"#convert-your-data")},"converted")," ","into the Simularium file format (JSON). The Simularium Viewer uses advanced rendering techniques developed by"," ",u.createElement("a",{href:"https://www.cg.tuwien.ac.at/research/publications/2015/cellVIEW_2015/"},"Le Muzic et al. (2015)")," ","to enable meaningful interpretation of spatial relationships among thousands of moving components. Users can import a trajectory file (JSON format) from their computer, or they can stream provided examples by choosing one from the ",u.createElement("i",null,"Load model")," dropdown or by clicking on a card above. Future versions of Simularium will allow you to modify, run, and even create simulations."),u.createElement("img",{className:cn.flowchart,alt:"A flowchart summarizing how Simularium currently works",src:$t})),u.createElement("div",{className:cn.panel},u.createElement("h1",null,"Connect with us"),u.createElement("h2",null,"Receive updates & technical support, or provide feedback"),u.createElement("br",null),u.createElement("p",null,"We are collecting user feedback to improve this application. To find tutorials, seek technical support, report bugs or request features, use the ",u.createElement("i",null,"Help")," ","menu found in the upper right corner of this website. Please"," ",u.createElement("a",{href:"http://allins.convio.net/site/PageServer?pagename=send_message_cs"},"contact us")," ","if you have ideas for potential collaborations, or want to be alerted to major updates.")),u.createElement("div",{className:cn.futureSimulariumPanel},u.createElement("h1",null,"Future plans for Simularium"),u.createElement("h2",null,"Create, modify, run, experiment, share, interoperate, & grow as a community"),u.createElement("br",null),u.createElement("p",null,"In the next phase of its development, Simularium will enable users to modify simulation parameters for provided models through the web-based interface, to run the modified simulations on the cloud, and to analyze the results. Simularium currently supports"," ",u.createElement("a",{href:E},u.createElement("i",null,"CytoSim"))," ","and"," ",u.createElement("a",{href:w},u.createElement("i",null,"ReaDDy")),". We plan to wrap several published packages that can serve as templates for community development and to encourage growth of the system by providing a well- documented API for simulation engine integration."),u.createElement("p",null,"We are investigating the use of these types of simulations and the various simulation engines that generated them for use in building an integrated, mechanistic understanding of human cells. We will also work with educators at all levels of science teaching to integrate and test Simularium’s potential for use in active learning classroom/lab/homework activities."))),u.createElement(Qt,null))},sn=n("7JRB"),mn=n.n(sn),fn=n("TSYQ"),pn=n.n(fn),dn=n("ye1Q"),hn=n("X72a"),yn=n("Dupp"),gn=n("VOzN"),bn=n("8Skl"),vn=n("jhfD"),En=n("zsHu"),wn=n("xvlK"),jn=n("tUHX"),On=n.p+"e11350304424986c06d80cc8bd6a0598.svg",Sn=n.p+"5a6fcb323a8a6c88d67fda68b99c100e.svg",kn=n.p+"c03618b254d5028392f596a1aee13c79.svg",_n=n.p+"8942ed4b5deaa34acace58d858dacf54.svg",Cn=n("92eP"),An=s.a.createElement(dn.a,{style:{fontSize:40},spin:!0}),Tn=s.a.createElement(hn.a,null),xn=s.a.createElement(yn.a,null),Pn=s.a.createElement(gn.a,null),Dn=s.a.createElement(bn.a,null),Nn=s.a.createElement(hn.a,null),Fn=s.a.createElement(vn.a,null),In=s.a.createElement(En.a,{className:Cn.flipH}),Rn=s.a.createElement(wn.a,null),Ln=s.a.createElement(jn.a,null),zn=s.a.createElement("img",{src:On}),Vn=s.a.createElement("img",{src:Sn}),Mn=s.a.createElement("img",{src:kn}),Hn={StepBack:s.a.createElement("img",{src:_n}),Play:Tn,Pause:xn,StepForward:Mn,UploadFile:Pn,Loading:An,DownArrow:Dn,CaretRight:Nn,ArrowLeftOutlined:vn.a,GoBack:Fn,PurpleArrow:zn,AicsLogo:Vn,Reset:In,ZoomIn:Rn,ZoomOut:Ln};function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qn(e);if(t){var a=qn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Kn(this,n)}}function Kn(e,t){return!t||"object"!==Un(t)&&"function"!=typeof t?Qn(e):t}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn=c.a.Sider,Gn=n("mjR4"),$n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(o,e);var t,n,r,a=Jn(o);function o(){var e;Bn(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zn(Qn(e=a.call.apply(a,[this].concat(n))),"state",{collapsed:!1}),Zn(Qn(e),"handleTriggerClick",(function(){var t=e.props.onCollapse;e.setState({collapsed:!e.state.collapsed}),t(e.state.collapsed)})),e}return t=o,(n=[{key:"render",value:function(){var e,t,n=this.props,r=n.type,a=n.children,o=pn()((Zn(e={},Gn.sider,!0),Zn(e,Gn[r],!0),e)),i=pn()((Zn(t={},Gn.trigger,!0),Zn(t,Gn[r],!0),Zn(t,Gn.collapsed,this.state.collapsed),t));return u.createElement(Xn,{className:o,width:280,collapsible:!0,collapsed:this.state.collapsed,collapsedWidth:0,trigger:null},u.createElement("div",{className:i,onClick:this.handleTriggerClick},zn),a)}}])&&Wn(t.prototype,n),r&&Wn(t,r),o}(u.Component);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ir(e);if(t){var a=ir(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return or(this,n)}}function or(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lr=n("z0x8"),cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(o,e);var t,n,r,a=ar(o);function o(){return tr(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.mainTitle,n=e.content;return u.createElement(en.a,{title:t,className:lr.container,bordered:!1},n[0])}}])&&nr(t.prototype,n),r&&nr(t,r),o}(u.Component),ur=n("JOtS"),sr=n.n(ur);function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gr(e);if(t){var a=gr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return yr(this,n)}}function yr(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var br=n("Zrbk"),vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}(o,e);var t,n,r,a=hr(o);function o(){return fr(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props.plotConfig;return u.createElement("div",{className:br.container},e.map((function(e){return u.createElement(sr.a,{key:e.key,data:e.data,useResizeHandler:!0,layout:e.layout,config:{displayModeBar:!1}})})))}}])&&pr(t.prototype,n),r&&pr(t,r),o}(u.Component),Er="#d3d3d3",wr={backgroundColor:"#1e1b25",backgroundTransparentColor:"#14121987",textColor:Er,borderColor:"#737373",timeIndicatorColor:Er,fontFamily:"Overpass",fontSize:11,legendItemHeight:19,marginTop:40,marginLeft:50,marginBottom:30,marginRight:5,colorway:["#c9e358","#12e9ff","#005097","#b59ff6",Er,"#ce729e","#ce7152","#54ce52"],height:240,width:260},jr={showline:!0,linecolor:Er,title:{size:12,standoff:3},automargin:!0,showgrid:!1,zeroline:!1};function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _r=Object(Pe.a)([ze,bt],(function(e,t){return e?e.map((function(e){var n=function(e,t){var n=t>1?wr.height+wr.legendItemHeight*t:wr.height;return Sr(Sr({},e),{},{autosize:!0,height:n,width:wr.width,title:{text:e.title,font:{size:16},x:.03,y:.97},hoverlabel:{font:{family:wr.fontFamily},namelength:0},xaxis:Sr(Sr({},jr),{},{title:Sr(Sr({},jr.title),{},{text:e.xaxis.title}),ticks:"inside",tickcolor:wr.textColor,hoverformat:".1f"}),yaxis:Sr(Sr({},jr),{},{title:Sr(Sr({},jr.title),{},{text:e.yaxis.title}),ticks:"inside",tickcolor:wr.textColor,hoverformat:".2f"}),yaxis2:{overlaying:"y",range:[0,1],visible:!1},legend:{xanchor:"left",yanchor:"top",x:0,y:-.2},showlegend:t>1,margin:{t:wr.marginTop,l:wr.marginLeft,b:wr.marginBottom,r:wr.marginRight},font:{family:wr.fontFamily,color:wr.textColor,size:wr.fontSize},colorway:wr.colorway,paper_bgcolor:wr.backgroundColor,plot_bgcolor:wr.backgroundColor})}(e.layout,e.data.length),r=function(e,t,n){var r=e.map((function(e){return Sr(Sr({},e),{},{line:{width:1},marker:{size:3,line:{color:wr.backgroundColor,width:.5}}})})),a=/\btime\b/i.test(n);return function(e){return"scatter"===e[0].type}(e)&&a&&0!==t&&r.push({mode:"lines",x:[t,t],y:[0,1],xaxis:"x",yaxis:"y2",line:{width:1,color:wr.timeIndicatorColor},showlegend:!1,hoverinfo:"x"}),r}(e.data,t,e.layout.xaxis.title);return{key:e.layout.title,data:r,layout:n}})):[]}));function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nr(e);if(t){var a=Nr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Dr(this,n)}}function Dr(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nr(e){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fr=n("1Tpd"),Ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(o,e);var t,n,r,a=Pr(o);function o(){return Ar(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.changeTime,n=e.time,r=e.plotConfig,a=r&&r.length>0?[u.createElement(vr,{time:n,key:"graph",changeTime:t,plotConfig:r})]:[];return u.createElement("div",{className:Fr.container},u.createElement(cr,{mainTitle:"Plots",content:a}))}}])&&Tr(t.prototype,n),r&&Tr(t,r),o}(u.Component);var Rr={changeTime:at},Lr=Object(f.b)((function(e){return{time:bt(e),plotConfig:_r(e)}}),Rr)(Ir),zr=(n("jCWc"),n("kPKH")),Vr=n("E+oP"),Mr=n.n(Vr),Hr=n("3WF5"),Ur=n.n(Hr),Br=n("k4Da"),Wr=n.n(Br),Yr=n("TP7S"),Jr=n.n(Yr),Kr=(n("sRBo"),n("kaz8"));function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e){return function(e){if(Array.isArray(e))return Zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xr=n("ydtQ"),Gr=function(e){var t,n=e.checked,r=e.indeterminate,a=e.onChange,o=e.value,i=e.className,l=i?i.split(" "):[],c=pn()([].concat(qr(l),[Xr.wrapper])),u=pn()(["icon-moon",Xr.checkbox],(Qr(t={},Xr.checked,n),Qr(t,Xr.indeterminate,r),t));return s.a.createElement("label",{className:c},s.a.createElement("span",{className:Xr.container},s.a.createElement("input",{checked:n,type:"checkbox",onChange:function(e){return a?a(e):null},value:o}),s.a.createElement("span",{className:u})))};function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var na=function(e){var t=ea(ea({},e),{},{checkboxType:null});return"star"===e.checkboxType?u.createElement(Gr,t):u.createElement(Kr.a,t)};function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function la(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sa(e);if(t){var a=sa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ca(this,n)}}function ca(e,t){return!t||"object"!==ra(t)&&"function"!=typeof t?ua(e):t}function ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ma=n("bA2J"),fa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}(o,e);var t,n,r,a=la(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).onCheckAllChange=t.onCheckAllChange.bind(ua(t)),t}return t=o,(n=[{key:"onCheckAllChange",value:function(e){var t=this.props,n=t.options;(0,t.onTopLevelCheck)(aa({},t.title,e.target.checked?n:[]))}},{key:"render",value:function(){var e,t=this.props,n=t.showLabel,r=t.title,a=t.checkedList,o=t.options,i=t.checkboxType,l=t.indeterminate,c=t.isHeader,s=Jr()(l)?!!a.length&&a.length<o.length:l,m=pn()([ma.container,(e={},aa(e,ma.header,c),aa(e,"header-checkbox",c),e)]);return u.createElement(na,{indeterminate:s,onChange:this.onCheckAllChange,checked:a.length===o.length,style:{margin:"auto"},className:m,checkboxType:i},n?r:"")}}])&&oa(t.prototype,n),r&&oa(t,r),o}(u.Component),pa=n("vN+2"),da=n.n(pa);function ha(e){return function(e){if(Array.isArray(e))return ya(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ya(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ga=Kr.a.Group,ba=n("Cq47"),va=function(e){var t=e.checkedAgents,n=e.options,r=e.onChange,a=e.checkboxType,o=function(e){var a=e.target,o=Ur()(n,"value"),i=t.indexOf(a.value),l=ha(t);-1===i?l.push(a.value):l.splice(i,1);var c=l.filter((function(e){return-1!==o.indexOf(e)})).sort((function(e,t){return n.findIndex((function(t){return t.value===e}))-n.findIndex((function(e){return e.value===t}))}));r(c)};return s.a.createElement(ga,{className:ba.container,value:t||[],onChange:r},n.map((function(e){var n=e.value;return s.a.createElement(na,{key:n,value:n,checkboxType:a,checked:t.includes(n),onChange:a?o:da.a})})))},Ea=(n("+L6B"),n("2/Rp")),wa=n("UwPn"),ja=n("xEkU"),Oa=n.n(ja);function Sa(e,t,n){var r,a;return Object(wa.a)(e,"ant-motion-collapse-legacy",{start:function(){t?(r=e.offsetHeight,e.style.height="0px",e.style.opacity="0"):(e.style.height="".concat(e.offsetHeight,"px"),e.style.opacity="1")},active:function(){a&&Oa.a.cancel(a),a=Oa()((function(){e.style.height="".concat(t?r:0,"px"),e.style.opacity=t?"1":"0"}))},end:function(){a&&Oa.a.cancel(a),e.style.height="",e.style.opacity="",n()}})}var ka={enter:function(e,t){return Sa(e,!0,t)},leave:function(e,t){return Sa(e,!1,t)},appear:function(e,t){return Sa(e,!0,t)}};function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ta=n("kIbi"),xa=function(e){var t=e.children,n=e.actions,r=void 0===n?[]:n,a=e.headerContent,o=Ca(Object(u.useState)(!1),2),i=o[0],l=o[1],c=s.a.createRef(),m=pn()(Ta.toggleButton,_a({},Ta.active,i)),f=pn()(Ta.panel,_a({},Ta.active,i));return s.a.createElement("div",{className:Ta.container},s.a.createElement("header",{className:Ta.header},r.length>0&&r.map((function(e){return e})),t&&s.a.createElement(Ea.a,{className:m,ghost:!0,shape:"circle",icon:Nn,onClick:function(){var e=!i;l(!i),e&&c.current?ka.enter(c.current,da.a):c.current&&ka.leave(c.current,da.a)}}),a),s.a.createElement("div",{ref:c,className:f},t))},Pa=n("y5rF"),Da=function(e){var t=e.color;return u.createElement("div",{className:Pa.container,style:{backgroundColor:t}})},Na=n("p/wr"),Fa=function(){return u.createElement("div",{className:Na.container},u.createElement("h3",null,"Unable to load UI controls"),u.createElement("p",null,"Review the"," ",u.createElement("a",{href:"https://aics-agentviz-data.s3.us-east-2.amazonaws.com/trajectory/endocytosis.simularium"},"example data")," ","or"," ",u.createElement("a",{href:"".concat(fi,"#convert-your-data"),target:"_blank",rel:"noopener noreferrer"},"the instructions on converting your data.")," "))};function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ua(e);if(t){var a=Ua(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ma(this,n)}}function Ma(e,t){return!t||"object"!==Ia(t)&&"function"!=typeof t?Ha(e):t}function Ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ua(e){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wa=n("wmLn"),Ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}(o,e);var t,n,r,a=Va(o);function o(){var e;Ra(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ba(Ha(e=a.call.apply(a,[this].concat(n))),"onSubCheckboxChange",(function(t,n){(0,e.props.handleAgentCheck)(Ba({},t,n))})),Ba(Ha(e),"onSubHighlightChange",(function(t,n){(0,e.props.handleHighlight)(Ba({},t,n))})),Ba(Ha(e),"onTopLevelCheck",(function(t){(0,e.props.handleAgentCheck)(t)})),Ba(Ha(e),"toggleAllOnOff",(function(t){var n=e.props,r=n.setAgentsVisible,a=n.payloadForSelectNone,o=n.payloadForSelectAll;t.All.length?r(o):r(a)})),Ba(Ha(e),"onTopLevelHighlightChange",(function(t){(0,e.props.handleHighlight)(t)})),Ba(Ha(e),"onAgentWithNoTagsChangeHighlight",(function(t,n){t.target.checked?e.onSubHighlightChange(n,[n]):e.onSubHighlightChange(n,[])})),Ba(Ha(e),"onAgentWithNoTagsChangeVisible",(function(t,n){t.target.checked?e.onSubCheckboxChange(n,[n]):e.onSubCheckboxChange(n,[])})),Ba(Ha(e),"renderCheckAllButton",(function(){var t=e.props,n=t.agentsChecked,r=t.treeData,a=t.checkAllIsIntermediate,o=Wr()(Ur()(n,(function(e,t){return e.length?t:""})));return s.a.createElement("div",{className:Wa.checkAllCheckbox},s.a.createElement(fa,{title:"All",showLabel:!0,options:Ur()(r,"key"),onTopLevelCheck:e.toggleAllOnOff,indeterminate:a,checkedList:o,isHeader:!1}))})),Ba(Ha(e),"renderRowWithNoChildren",(function(t){var n=e.props,r=n.agentsChecked,a=n.agentsHighlighted,o=!(Mr()(a)||!a[t.title])&&a[t.title].includes(t.title),i=!(Mr()(r)||!r[t.title])&&r[t.title].includes(t.title);return s.a.createElement(Yt.a,{className:[Wa.noChildrenRow,Wa.checkboxSet].join(" ")},s.a.createElement(zr.a,{span:12},s.a.createElement(na,{className:"header-checkbox",key:"".concat(t.title,"-highlight"),checkboxType:"star",value:t.title,checked:o,onChange:function(n){return e.onAgentWithNoTagsChangeHighlight(n,t.title)}})),s.a.createElement(zr.a,{span:12},s.a.createElement(na,{className:"header-checkbox",key:"".concat(t.title,"-onoff"),checked:i,value:t.title,onChange:function(n){return e.onAgentWithNoTagsChangeVisible(n,t.title)}})))})),Ba(Ha(e),"renderSharedCheckboxes",(function(t){return s.a.createElement(Yt.a,{key:"actions",className:Wa.checkboxSet},s.a.createElement(zr.a,{span:12},s.a.createElement(fa,{title:t.title,showLabel:!1,checkboxType:"star",options:Ur()(t.children,"value"),onTopLevelCheck:e.onTopLevelHighlightChange,checkedList:e.props.agentsHighlighted[t.title]||[],isHeader:!0})),s.a.createElement(zr.a,{span:12},s.a.createElement(fa,{title:t.title,showLabel:!1,options:Ur()(t.children,"value"),onTopLevelCheck:e.onTopLevelCheck,checkedList:e.props.agentsChecked[t.title]||[],isHeader:!0})))})),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.agentsHighlighted,r=t.treeData,a=t.agentsChecked,o=t.agentColors;return r.length>0?s.a.createElement("div",{className:Wa.container},s.a.createElement(Yt.a,{className:Wa.colLabels},s.a.createElement(zr.a,{span:2,offset:4},s.a.createElement("label",{className:pn()(["icon-moon",Wa.starIcon])})),s.a.createElement(zr.a,{span:2},s.a.createElement("label",null,"show")),s.a.createElement(zr.a,{flex:6,offset:1},s.a.createElement("label",null,"type"))),s.a.createElement(xa,{headerContent:this.renderCheckAllButton()}),r.map((function(t){return s.a.createElement(xa,{headerContent:s.a.createElement(s.a.Fragment,null,t.children.length?e.renderSharedCheckboxes(t):e.renderRowWithNoChildren(t)," ",s.a.createElement(Da,{color:o[t.title]}),s.a.createElement("label",{className:Wa.headerLabel},t.title)),key:t.key},t.children.length>0&&s.a.createElement(Yt.a,{className:Wa.subMenu},s.a.createElement(zr.a,{span:2,offset:3},s.a.createElement(va,{options:t.children,checkedAgents:n[t.title]||[],checkboxType:"star",onChange:function(n){return e.onSubHighlightChange(t.title,n)}})),s.a.createElement(zr.a,{span:2},s.a.createElement(va,{options:t.children,checkedAgents:a[t.title]||[],onChange:function(n){return e.onSubCheckboxChange(t.title,n)}})),s.a.createElement(zr.a,{offset:4,className:Wa.checkboxLabels},t.children.map((function(e){return s.a.createElement("div",{key:"label-".concat(t.title,"-").concat(e.value),className:Wa.rowLabelContainer},s.a.createElement(Da,{color:o[t.title]}),s.a.createElement("label",{className:Wa.rowLabel,key:e.value},e.label))})))))}))):s.a.createElement(Fa,null)}}])&&La(t.prototype,n),r&&La(t,r),o}(s.a.Component),Ja=Object(Pe.a)([Ge],(function(e){return e.reduce((function(e,t){var n=t.key;return e[n]=[],t.children&&t.children.length?e[n]=t.children.map((function(e){return e.value})):e[n]=[n],e}),{})})),Ka=Object(Pe.a)([Ge],(function(e){return e.reduce((function(e,t){return e[t.key]=[],e}),{})})),Qa=Object(Pe.a)([Ge,wt],(function(e,t){var n=!1,r=e.filter((function(e){return t[e.key]&&e.children.length?(n=t[e.key].length<e.children.length&&t[e.key].length>0,!1):!!t[e.key]||void 0}));if(n)return n;var a=r.filter((function(e){return 1===t[e.key].length}));return a.length>0&&r.length!==a.length})),qa=n("p/wr"),Za=function(e){var t=e.selectFile,n=Fe[0];return u.createElement("div",{className:qa.container},u.createElement("h3",null,"No trajectories loaded"),u.createElement("p",null,"To view a simulation, either"," ",u.createElement("a",{href:"https://aics-agentviz-data.s3.us-east-2.amazonaws.com/trajectory/endocytosis.simularium"},"download")," ","our example data or"," ",u.createElement("a",{href:"".concat(fi,"#convert-your-data"),target:"_blank",rel:"noopener noreferrer"},"convert")," ","your own data, and then drag and drop the file onto this window."),u.createElement("p",null,u.createElement(p.b,{onClick:function(){var e;t({name:(e=n).id,title:e.title})},to:{search:"?".concat("trajFileName","=").concat(n.id)}},"Load an example instead.")))},Xa=n("p/wr"),Ga=function(){return u.createElement("div",{className:Xa.container},u.createElement("h3",null,"Simulation failed to load"),u.createElement("p",null,"Try reloading the page. If you continue to have problems you can submit a bug report through ",u.createElement("a",{href:v},"GitHub "),"or the ",u.createElement("a",{href:g},"Simularium forum.")))};function $a(e){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=io(e);if(t){var a=io(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return oo(this,n)}}function oo(e,t){return!t||"object"!==$a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function io(e){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lo=n("grDL"),co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}(o,e);var t,n,r,a=ao(o);function o(){return to(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e,t=this.props,n=t.visibleAgentKeys,r=t.uiDisplayDataTree,a=t.turnAgentsOnByDisplayKey,o=t.highlightAgentsByDisplayKey,i=t.highlightedAgentKeys,l=t.setAgentsVisible,c=t.payloadForSelectAll,s=t.payloadForSelectNone,m=t.checkAllIsIntermediate,f=t.agentColors,p=t.viewerStatus,d=t.isNetworkedFile,h=t.changeToNetworkedFile,y=(eo(e={},"success",u.createElement(Ya,{treeData:r,handleAgentCheck:a,agentsChecked:n,handleHighlight:o,agentsHighlighted:i,setAgentsVisible:l,payloadForSelectAll:c,payloadForSelectNone:s,checkAllIsIntermediate:m,agentColors:f})),eo(e,"empty",u.createElement(Za,{selectFile:h})),eo(e,"loading",u.createElement("div",null)),eo(e,"error",d?u.createElement(Ga,null):u.createElement(Fa,null)),e);return u.createElement("div",{className:lo.container},u.createElement(cr,{mainTitle:"Agents",content:[u.createElement("div",{className:lo.container,key:"molecules"},y[p]),null]}))}}])&&no(t.prototype,n),r&&no(t,r),o}(u.Component);var uo={requestMetadata:he,changeToNetworkedFile:we,turnAgentsOnByDisplayKey:lt,highlightAgentsByDisplayKey:ct,setAgentsVisible:it},so=Object(f.b)((function(e){return{visibleAgentKeys:wt(e),highlightedAgentKeys:jt(e),uiDisplayDataTree:Ge(e),payloadForSelectAll:Ja(e),payloadForSelectNone:Ka(e),checkAllIsIntermediate:Qa(e),agentColors:Et(e),viewerStatus:Je(e),isNetworkedFile:Qe(e)}}),uo)(co),mo=(n("/xke"),n("TeRw")),fo=(n("2qtc"),n("kLXV")),po=(n("Co+Y"),n("M39V")),ho=n.n(po),yo=(n("8dk+"),n("eZ87")),go=(n("5Dmo"),n("3S7+"));function bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Eo=n("Q/Bm"),wo=function(e){var t=e.time,n=e.playHandler,r=e.pauseHandler,a=e.prevHandler,o=e.isPlaying,i=e.nextHandler,l=e.firstFrameTime,c=e.lastFrameTime,m=e.onTimeChange,f=e.loading,p=e.timeStep,d=bo(Object(u.useState)(0),2),h=d[0],y=d[1],g=["s","ms","μs","ns"],b=function(e){return parseFloat(Number(e).toPrecision(3))},v=t?b(t*Math.pow(1e3,h)):0,E=b(c*Math.pow(1e3,h));Object(u.useEffect)((function(){if(c){var e=Math.ceil(Math.log(1/c)/Math.log(1e3));e>=g.length?e=g.length-1:e<0&&(e=0),y(e)}}),[c]);var w=pn()([Eo.item,Eo.btn]);return s.a.createElement("div",{className:Eo.container},s.a.createElement(go.a,{placement:"top",title:"Skip 1 frame back",color:"#141219"},s.a.createElement(Ea.a,{className:[w,Eo.stepButton].join(" "),size:"small",icon:Hn.StepBack,onClick:a,disabled:0===t||f,loading:f})),s.a.createElement(go.a,{placement:"top",title:o?"Pause":"Play",color:"#141219"},s.a.createElement(Ea.a,{className:w,size:"small",icon:o?Hn.Pause:Hn.Play,onClick:o?r:n,loading:f})),s.a.createElement(go.a,{placement:"top",title:"Skip 1 frame ahead",color:"#141219"},s.a.createElement(Ea.a,{className:[w,Eo.stepButton].join(" "),size:"small",icon:Hn.StepForward,onClick:i,disabled:t+p>=c||f,loading:f})),s.a.createElement(yo.a,{value:t,onChange:function(e){m(e)},tooltipVisible:!1,className:[Eo.slider,Eo.item].join(" "),step:p,min:l,max:c,disabled:f}),s.a.createElement("div",{className:Eo.time},s.a.createElement("p",null,v," ",s.a.createElement("span",{className:Eo.lastFrameTime},"/ ",E," ",g[h]))))},jo=n("9urU"),Oo=function(e){var t=e.resetCamera,n=e.zoomIn,r=e.zoomOut;return u.createElement("div",{className:jo.container},u.createElement("div",{className:jo.zoomButtons},u.createElement(go.a,{placement:"left",title:"Zoom in",color:"#141219"},u.createElement(Ea.a,{className:jo.btn,size:"small",icon:Hn.ZoomIn,onClick:n})),u.createElement(go.a,{placement:"left",title:"Zoom out",color:"#141219"},u.createElement(Ea.a,{className:jo.btn,size:"small",icon:Hn.ZoomOut,onClick:r}))),u.createElement(go.a,{placement:"left",title:"Reset camera",color:"#141219"},u.createElement(Ea.a,{className:jo.btn,size:"small",icon:Hn.Reset,onClick:t})))},So=n.p+"33a4f583472d20d044ee688529853662.svg",ko=n("/r6d"),_o=function(e){var t=e.label;return t?u.createElement("div",{className:ko.container},u.createElement("div",{className:ko.text},t),u.createElement("img",{src:So})):u.createElement("div",null)};n("lSCD"),n("Ag8Z");function Co(e){return function(e){if(Array.isArray(e))return Ao(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ao(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var To=Object(Pe.a)([kt,_t],(function(e,t){return{highlightedAgents:e,hiddenAgents:t}})),xo=["#fee34d","#f7b232","#bf5736","#94a7fc","#ce8ec9","#58606c","#0ba345","#9267cb","#81dbe6","#bd7800","#bbbb99","#5b79f0","#89a500","#da8692","#418463","#9f516c","#00aabf"];function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lo(e);if(t){var a=Lo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Io(this,n)}}function Io(e,t){return!t||"object"!==Po(t)&&"function"!=typeof t?Ro(e):t}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vo=n("imH3"),Mo=n("egY+"),Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}(o,e);var t,n,r,a=Fo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),zo(Ro(t=a.call(this,e)),"centerContent",u.createRef()),zo(Ro(t),"handleUiDisplayDataChanged",(function(e){var n=t.props,r=n.receiveAgentNamesAndStates,a=n.setAgentsVisible,o=n.setAllAgentColors,i=function(e){return e.reduce((function(e,t){return e[t.name]=[],t.displayStates&&t.displayStates.length>0?e[t.name]=[""].concat(Co(t.displayStates.map((function(e){return e.name})))):e[t.name]=[t.name],e}),{})}(e),l=function(e){return e.reduce((function(e,t){return e[t.name]=t.color,e}),{})}(e);k([r(e),o(l),a(i)])})),zo(Ro(t),"handleArrowKeyDown",(function(e){var n=t.props.simulariumController;"ArrowUp"===e.key?n.zoomIn():"ArrowDown"===e.key&&n.zoomOut()})),t.playBackOne=t.playBackOne.bind(Ro(t)),t.playForwardOne=t.playForwardOne.bind(Ro(t)),t.startPlay=t.startPlay.bind(Ro(t)),t.pause=t.pause.bind(Ro(t)),t.receiveTimeChange=t.receiveTimeChange.bind(Ro(t)),t.handleJsonMeshData=t.handleJsonMeshData.bind(Ro(t)),t.onTrajectoryFileInfoChanged=t.onTrajectoryFileInfoChanged.bind(Ro(t)),t.skipToTime=t.skipToTime.bind(Ro(t)),t.resize=t.resize.bind(Ro(t)),t.state={isPlaying:!1,isInitialPlay:!0,highlightId:-1,particleTypeIds:[],height:0,width:0,requestingTimeChange:!1,scaleBarLabel:""},t}return t=o,(n=[{key:"resize",value:function(e){var t=e.offsetWidth,n=e.offsetHeight;this.setState({height:n,width:t})}},{key:"componentDidMount",value:function(){var e=this;ho.a.getParser(window.navigator.userAgent).satisfies({firefox:">=51",chrome:">=56",edge:">=79"})||fo.a.info({title:"The browser you are using is not supported.",content:u.createElement("p",null,"Please use Firefox, Chrome, or Edge. See more details"," ",u.createElement("a",{href:"".concat(fi,"#browser-support")},"here")," ","or choose OK to continue anyway.")}),window.matchMedia("(max-width: 900px)").matches&&fo.a.warning({title:"Small screens are not supported",content:"The Simularium Viewer does not support small screens at this time. Please use a larger screen for the best experience."});var t=this.centerContent.current;t&&(window.addEventListener("resize",(function(){return e.resize(t)})),setTimeout((function(){e.resize(t)}),200))}},{key:"componentDidUpdate",value:function(e){var t,n=this,r=this.props,a=r.viewerStatus,o=r.viewerError,i=this.centerContent.current;"error"===a&&"error"!==e.viewerStatus&&o.message&&mo.a.error({message:(t=o.message,t?t.replace(/\s\w/g,(function(e){return e.toLowerCase()})).replace(/(^\s*\w|[\.\!\?]\s*\w)/g,(function(e){return e.toUpperCase()})):""),description:u.createElement("div",{dangerouslySetInnerHTML:{__html:o.htmlData}})||"",duration:o.htmlData?0:4.5}),i&&this.props.numberPanelsCollapsed!==e.numberPanelsCollapsed&&setTimeout((function(){n.resize(i)}),200)}},{key:"playForwardOne",value:function(){var e=this.props,t=e.time,n=e.timeStep;this.skipToTime(t+n)}},{key:"playBackOne",value:function(){var e=this.props,t=e.time,n=e.timeStep;this.skipToTime(t-n)}},{key:"handleJsonMeshData",value:function(e){(0,this.props.receiveAgentTypeIds)(Object.keys(e))}},{key:"highlightParticleType",value:function(e){var t=e;this.setState({highlightId:t})}},{key:"startPlay",value:function(){var e=this.props,t=e.time,n=e.timeStep,r=e.simulariumController,a=e.firstFrameTime,o=t;o+n>=e.lastFrameTime&&(o=a),r.playFromTime(o),r.resume(),this.setState({requestingTimeChange:!0,isPlaying:!0})}},{key:"pause",value:function(){this.props.simulariumController.pause(),this.setState({isPlaying:!1})}},{key:"onTrajectoryFileInfoChanged",value:function(e){var t=this.props,n=t.receiveMetadata,r=t.simulariumController,a=e.spatialUnitFactorMeters,o=r.tickIntervalLength,i=Vo.meter.convert(o*a),l=parseFloat(i[0].toPrecision(2)),c=i[1].replace("mc","µ");this.setState({scaleBarLabel:l+" "+c,isInitialPlay:!0}),n({numFrames:e.totalSteps,timeStepSize:e.timeStepSize})}},{key:"receiveTimeChange",value:function(e){var t=this.props,n=t.changeTime,r=t.setViewerStatus,a=t.viewerStatus,o=t.lastFrameTime,i=t.numFrames,l=t.timeStep,c=t.receiveMetadata;this.state.isInitialPlay&&(c({firstFrameTime:e.time,lastFrameTime:(i-1)*l+e.time}),this.setState({isInitialPlay:!1})),this.setState({requestingTimeChange:!1});var u=[n(e.time)];"success"!==a&&u.push(r({status:"success"})),e.time+l>o&&this.pause(),k(u)}},{key:"skipToTime",value:function(e){var t=this.props,n=t.simulariumController,r=t.lastFrameTime;this.state.requestingTimeChange||e>=r||(this.setState({requestingTimeChange:!0}),n.gotoTime(e))}},{key:"render",value:function(){var e=this.props,t=e.time,n=e.firstFrameTime,r=e.lastFrameTime,a=e.simulariumController,o=e.selectionStateInfoForViewer,i=e.setViewerStatus,l=e.timeStep;return u.createElement("div",{ref:this.centerContent,className:Mo.container,onKeyDown:this.handleArrowKeyDown},u.createElement(mn.a,{height:this.state.height,width:this.state.width,loggerLevel:"off",onTimeChange:this.receiveTimeChange,simulariumController:a,onJsonDataArrived:this.handleJsonMeshData,onUIDisplayDataChanged:this.handleUiDisplayDataChanged,selectionStateInfo:o,showCameraControls:!1,agentColors:xo,loadInitialData:!1,onError:function(e){i({status:"error",errorMessage:e})},onTrajectoryFileInfoChanged:this.onTrajectoryFileInfoChanged}),u.createElement(wo,{playHandler:this.startPlay,time:t,timeStep:l,onTimeChange:this.skipToTime,pauseHandler:this.pause,prevHandler:this.playBackOne,nextHandler:this.playForwardOne,isPlaying:this.state.isPlaying,firstFrameTime:n,lastFrameTime:r,loading:this.state.requestingTimeChange}),u.createElement(_o,{label:this.state.scaleBarLabel}),u.createElement(Oo,{resetCamera:a.resetCamera,zoomIn:a.zoomIn,zoomOut:a.zoomOut}))}}])&&Do(t.prototype,n),r&&Do(t,r),o}(u.Component);var Uo={changeTime:Ct.actions.changeTime,receiveMetadata:nt.actions.receiveMetadata,receiveAgentTypeIds:nt.actions.receiveAgentTypeIds,receiveAgentNamesAndStates:nt.actions.receiveAgentNamesAndStates,setAgentsVisible:Ct.actions.setAgentsVisible,setViewerStatus:nt.actions.setViewerStatus,dragOverViewer:Ct.actions.dragOverViewer,resetDragOverViewer:Ct.actions.resetDragOverViewer,setAllAgentColors:Ct.actions.setAllAgentColors},Bo=Object(f.b)((function(e){return{time:Ct.selectors.getCurrentTime(e),numberPanelsCollapsed:Ct.selectors.getNumberCollapsed(e),firstFrameTime:nt.selectors.getFirstFrameTimeOfCachedSimulation(e),lastFrameTime:nt.selectors.getLastFrameTimeOfCachedSimulation(e),numFrames:nt.selectors.getNumFrames(e),timeStep:nt.selectors.getTimeStepSize(e),selectionStateInfoForViewer:To(e),viewerStatus:nt.selectors.getViewerStatus(e),viewerError:nt.selectors.getViewerError(e),fileIsDraggedOverViewer:Ct.selectors.getFileDraggedOverViewer(e)}}),Uo)(Ho),Wo=(n("miYZ"),n("tsqr")),Yo=(n("DZo9"),n("8z0m")),Jo=function(e,t){var n=e.file,r=e.onSuccess,a=e.onError;n.text().then((function(e){return JSON.parse(e)})).then((function(e){t({lastModified:n.lastModified,name:n.name,data:e})})).then((function(){return r({name:n.name,status:"done",url:""},n)})).catch((function(e){console.log(e),a(e)}))};function Ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qo=Yo.a.Dragger,Zo=n("Zw8M"),Xo=function(e){var t=e.resetDragOverViewer,n=e.loadLocalFile,r=e.isLoading,a=e.fileIsDraggedOverViewer,o=Ko(Object(u.useState)(!1),2),i=o[0],l=o[1];a&&!i?l(!0):!a&&i&&l(!1);var c=s.a.createElement("div",{className:Zo.container},s.a.createElement("p",{className:"loading-icon"},An),s.a.createElement("p",{className:"loading-text"},"Loading Simularium Model")),m=s.a.createElement(qo,{className:Zo.container,onChange:function(e){var n=e.file;"done"===n.status?(t(),l(!1)):"error"===n.status&&(l(!1),Wo.b.error("".concat(n.name," file upload failed.")),t())},showUploadList:!1,openFileDialogOnClick:!1,customRequest:function(e){return Jo(e,n)}},s.a.createElement("p",{className:"ant-upload-drag-icon"},r?An:Pn),s.a.createElement("p",{className:"ant-upload-text"},r?"Loading Simularium file":"Drag a Simularium file here"));return i?m:r?c:null};function Go(e){return(Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ai(e);if(t){var a=ai(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ni(this,n)}}function ni(e,t){return!t||"object"!==Go(t)&&"function"!=typeof t?ri(e):t}function ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ii=c.a.Content,li=n("eG3k"),ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ei(e,t)}(o,e);var t,n,r,a=ti(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),oi(ri(t=a.call(this,e)),"simulariumController",void 0),oi(ri(t),"interactiveContent",u.createRef()),oi(ri(t),"endDragover",0),t.onPanelCollapse=t.onPanelCollapse.bind(ri(t)),t.handleDragOverViewer=t.handleDragOverViewer.bind(ri(t)),t.handleEndDrag=t.handleEndDrag.bind(ri(t)),t}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.setSimulariumController,n=e.changeToNetworkedFile,r=e.simulariumController,a=this.interactiveContent.current,o=_e.a.parse(location.search).trajFileName,i=xe()(Fe,{id:o}),l=r||new sn.SimulariumController({});if(o&&i){var c=i;n({name:c.id,title:c.title},l)}else t(l);a&&(a.addEventListener("dragover",this.handleDragOverViewer,!1),a.addEventListener("dragleave",this.handleEndDrag,!1))}},{key:"onPanelCollapse",value:function(e){(0,this.props.onSidePanelCollapse)(e?1:-1)}},{key:"handleDragOverViewer",value:function(e){var t=this.props,n=t.dragOverViewer,r=t.fileIsDraggedOverViewer;e.preventDefault(),clearTimeout(this.endDragover),r||n()}},{key:"handleEndDrag",value:function(){var e=this.props,t=e.resetDragOverViewer;e.fileIsDraggedOverViewer&&(this.endDragover=window.setTimeout((function(){t()}),300))}},{key:"render",value:function(){var e=this.props,t=e.simulariumController,n=e.changeToLocalSimulariumFile,r=e.resetDragOverViewer,a=e.viewerStatus,o=e.fileIsDraggedOverViewer;return u.createElement(c.a,{className:li.container},u.createElement("div",{ref:this.interactiveContent},u.createElement(c.a,{className:li.content},u.createElement(Xo,{key:"drop",loadLocalFile:n,isLoading:"loading"===a,resetDragOverViewer:r,fileIsDraggedOverViewer:o}),u.createElement($n,{onCollapse:this.onPanelCollapse,type:"left"},u.createElement(so,null)),u.createElement(ii,null,t&&u.createElement(Bo,{loadLocalFile:n,simulariumController:t})),u.createElement($n,{onCollapse:this.onPanelCollapse,type:"right"},u.createElement(Lr,null)))))}}])&&$o(t.prototype,n),r&&$o(t,r),o}(u.Component);var ui={onSidePanelCollapse:Ct.actions.onSidePanelCollapse,changeToLocalSimulariumFile:nt.actions.changeToLocalSimulariumFile,setSimulariumController:nt.actions.setSimulariumController,changeToNetworkedFile:nt.actions.changeToNetworkedFile,resetDragOverViewer:Ct.actions.resetDragOverViewer,dragOverViewer:Ct.actions.dragOverViewer},si=Object(f.b)((function(e){return{simulariumFile:nt.selectors.getSimulariumFile(e),simulariumController:nt.selectors.getSimulariumController(e),fileIsDraggedOverViewer:Ct.selectors.getFileDraggedOverViewer(e),viewerStatus:nt.selectors.getViewerStatus(e)}}),ui)(ci),mi="/viewer",fi="/tutorial",pi=[{name:"Home",component:s.a.createElement(un,null),path:"/"},{name:"Getting Started",component:s.a.createElement(Gt,null),path:fi},{name:"Run Simulations",component:s.a.createElement(si,null),path:mi}],di=function(){var e=Object(d.g)().pathname;return Object(u.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},hi=(n("h7lp"),n("bf48")),yi=(n("qVdP"),n("jsC+")),gi=(n("lUTK"),n("BvKs")),bi=n("oas7"),vi=function(e){var t=e.loadLocalFile,n=Object(d.f)();return s.a.createElement(Yo.a,{onChange:function(e){var t=e.file;n.location.pathname.startsWith(mi)||n.push(mi),"error"===t.status&&Wo.b.error("".concat(t.name," file upload failed."))},showUploadList:!1,customRequest:function(e){return Jo(e,t)},className:bi.container},s.a.createElement(Ea.a,{type:"ghost"},"Import Simularium file..."))},Ei=n("z73H"),wi=function(e){var t=e.loadLocalFile,n=e.selectFile,r=Object(d.g)(),a=u.createElement(gi.a,{theme:"dark",className:Ei.menu},u.createElement(gi.a.Item,null,u.createElement(vi,{loadLocalFile:t})),u.createElement(gi.a.SubMenu,{title:"Load existing model",popupClassName:Ei.submenu,popupOffset:[-.45,-4]},Fe.map((function(e){return u.createElement(gi.a.Item,{key:e.id},u.createElement(p.b,{onClick:function(){return t=e,void(r.pathname===mi&&n({name:t.id,title:t.title}));var t},to:{pathname:mi,search:"?".concat("trajFileName","=").concat(e.id)}},e.title))}))));return u.createElement(yi.a,{overlay:a,placement:"bottomRight"},u.createElement(Ea.a,{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},type:"primary"},"Load model ",Dn))},ji=(n("+BJd"),n("mr32")),Oi=n("wd/R"),Si=n.n(Oi),ki=n("UVOB"),_i=function(e){var t=e.simulariumFileName,n=e.lastModified,r=Object(d.g)(),a=r.pathname.startsWith(mi)&&t?u.createElement("span",null,t):u.createElement("span",null),o=r.pathname.startsWith(mi)&&n?u.createElement(ji.a,{className:ki.tag},"modified: ",Si()(n).format("YYYY-MM-DD, h:m A")):u.createElement("span",null);return u.createElement("span",{className:ki.container},a," ",o)},Ci=n("UVmh"),Ai=function(){var e="/viewer"===Object(d.g)().pathname?u.createElement(p.b,{to:fi,target:"_blank",rel:"noopener noreferrer"},"Quick start"):u.createElement(p.b,{to:fi},"Quick start"),t=u.createElement(gi.a,{theme:"dark",className:Ci.menu},u.createElement(gi.a.Item,null,e),u.createElement(gi.a.Item,null,u.createElement("a",{href:y,target:"_blank",rel:"noopener noreferrer"},"Forum")),u.createElement(gi.a.Item,null,u.createElement("a",{href:b,target:"_blank",rel:"noopener noreferrer"},"GitHub")),u.createElement(gi.a.SubMenu,{title:"Submit issue",popupClassName:Ci.submenu,popupOffset:[-.45,-4]},u.createElement(gi.a.Item,{key:"github"},u.createElement("a",{href:v,target:"_blank",rel:"noopener noreferrer"},"via GitHub (preferred)")),u.createElement(gi.a.Item,{key:"web-form"},u.createElement("a",{href:g,target:"_blank",rel:"noopener noreferrer"},"via Forum (for non-GitHub users)"))));return u.createElement(yi.a,{overlay:t},u.createElement(Ea.a,{onClick:function(e){return e.preventDefault()},type:"ghost"},"Help ",Dn))};function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t){return(Di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ni(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ii(e);if(t){var a=Ii(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Fi(this,n)}}function Fi(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ri=n("0VPI"),Li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Di(e,t)}(o,e);var t,n,r,a=Ni(o);function o(){return xi(this,o),a.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.simulariumFile,n=e.changeToLocalSimulariumFile,r=e.changeToNetworkedFile,a=0,o="";return De(t)?(o=t.name,a=t.lastModified):Ne(t)&&(o=t.title),u.createElement(hi.a,{className:Ri.pageHeader,backIcon:u.createElement("a",{href:"https://allencell.org",title:"Allen Cell Explorer"},Vn),onBack:function(){return null},title:u.createElement("div",{key:"home",className:Ri.home},u.createElement("span",{className:Ri.verticalBar},"|"),u.createElement(p.b,{to:"/"},"SIMULARIUM HOME")),subTitle:u.createElement(_i,{simulariumFileName:o,lastModified:a}),extra:[u.createElement(wi,{key:"select",selectFile:r,loadLocalFile:n}),u.createElement(Ai,{key:"help"})]})}}])&&Pi(t.prototype,n),r&&Pi(t,r),o}(u.Component);var zi,Vi={changeToLocalSimulariumFile:nt.actions.changeToLocalSimulariumFile,changeToNetworkedFile:nt.actions.changeToNetworkedFile},Mi=Object(f.b)((function(e){return{simulariumFile:nt.selectors.getSimulariumFile(e)}}),Vi)(Li),Hi=(n("OMi8"),c.a.Header);(zi=(/#!(\/.*)$/.exec(location.hash)||[])[1])&&history.replaceState(null,"",zi),Object(m.render)(u.createElement(f.a,{store:Lt()},u.createElement(c.a,null,u.createElement(p.a,{basename:"/simularium-website/"},u.createElement(di,null),u.createElement(Hi,null,u.createElement(Mi,null)),u.createElement(d.c,null,pi.map((function(e){return u.createElement(d.a,{key:e.path,exact:"/"===e.path,path:e.path},e.component)})))))),document.getElementById("agentviz-ui"))},"92eP":function(e,t,n){e.exports={"flip-h":"style__flip-h--kJTQO",flipH:"style__flip-h--kJTQO"}},"9urU":function(e,t,n){e.exports={container:"style__container--3P0OX",zoomButtons:"style__zoomButtons--1oA_m",btn:"style__btn--1vO2V"}},Cq47:function(e,t,n){e.exports={container:"style__container--1sqaY"}},JGnA:function(e,t,n){e.exports={content:"style__content--3aAyX",intro:"style__intro--1fW9r","list-header":"style__list-header--3zcej",listHeader:"style__list-header--3zcej","drag-drop-image":"style__drag-drop-image--1rrQ2",dragDropImage:"style__drag-drop-image--1rrQ2","approach-block":"style__approach-block--tGtAu",approachBlock:"style__approach-block--tGtAu"}},MNAj:function(e,t,n){e.exports={content:"style__content--2Eyxq",panel:"style__panel--dJ60s",cards:"style__cards--1OPeR",caption:"style__caption--3thPU","try-simularium-panel":"style__try-simularium-panel--30lxN style__panel--dJ60s",trySimulariumPanel:"style__try-simularium-panel--30lxN style__panel--dJ60s",flowchart:"style__flowchart--2EMjl","future-simularium-panel":"style__future-simularium-panel--PVB46 style__panel--dJ60s",futureSimulariumPanel:"style__future-simularium-panel--PVB46 style__panel--dJ60s"}},OMi8:function(e,t,n){},"Q/Bm":function(e,t,n){e.exports={container:"style__container--3v4b0",item:"style__item--2SVQY",btn:"style__btn--1jmhT",slider:"style__slider--2wO3I",time:"style__time--1AboG",lastFrameTime:"style__lastFrameTime--q_cv9"}},RnhZ:function(e,t,n){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="RnhZ"},UVOB:function(e,t,n){e.exports={container:"style__container--2GWkk",tag:"style__tag--2w7Eb"}},UVmh:function(e,t,n){e.exports={menu:"style__menu--3ntOg",submenu:"style__submenu--3DHL2"}},"YS+i":function(e,t,n){e.exports={card:"style__card--3RZog","animated-thumbnail":"style__animated-thumbnail--hMirs",animatedThumbnail:"style__animated-thumbnail--hMirs",thumbnail:"style__thumbnail--19iLV","static-thumbnail":"style__static-thumbnail--31Zwv",staticThumbnail:"style__static-thumbnail--31Zwv","card-text":"style__card-text--1EXFE",cardText:"style__card-text--1EXFE","simulated-time":"style__simulated-time--inYqS",simulatedTime:"style__simulated-time--inYqS","card-title":"style__card-title--mHH2m",cardTitle:"style__card-title--mHH2m",publication:"style__publication--1Eqb7",journal:"style__journal--2rUXh"}},Zrbk:function(e,t,n){e.exports={container:"style__container--22jAh"}},Zw8M:function(e,t,n){e.exports={container:"style__container--26N9a","loading-icon":"style__loading-icon--2tOQw",loadingIcon:"style__loading-icon--2tOQw","loading-text":"style__loading-text--1B5Ws",loadingText:"style__loading-text--1B5Ws"}},bA2J:function(e,t,n){e.exports={header:"style__header--xhIgv"}},eG3k:function(e,t,n){e.exports={container:"style__container--3YhJ6",content:"style__content--1RtN1"}},"egY+":function(e,t,n){e.exports={container:"style__container--qJEJg"}},grDL:function(e,t,n){e.exports={container:"style__container--3IWRx"}},kIbi:function(e,t,n){e.exports={container:"style__container--1rcnt",header:"style__header--2gzVo","toggle-button":"style__toggle-button--3xM-S",toggleButton:"style__toggle-button--3xM-S",active:"style__active--AgbTv",panel:"style__panel--3YXqr"}},mjR4:function(e,t,n){e.exports={sider:"style__sider--37XYi",right:"style__right--324xD",trigger:"style__trigger--30dA5",left:"style__left--1KLfS",collapsed:"style__collapsed--ncLRy"}},oas7:function(e,t,n){e.exports={container:"style__container--tu3r-"}},"p/wr":function(e,t,n){e.exports={container:"style__container--Jj3Sj"}},qktS:function(e,t,n){e.exports={container:"style__container--2Wruc",topLevelList:"style__topLevelList--rNsFd"}},wL8U:function(e,t){},wmLn:function(e,t,n){e.exports={container:"style__container--SrsUo","sub-menu":"style__sub-menu--1dXQZ",subMenu:"style__sub-menu--1dXQZ","header-label":"style__header-label--2-vZj",headerLabel:"style__header-label--2-vZj","checkbox-set":"style__checkbox-set--3QARo",checkboxSet:"style__checkbox-set--3QARo","checkbox-labels":"style__checkbox-labels--3Oqeo",checkboxLabels:"style__checkbox-labels--3Oqeo","row-label-container":"style__row-label-container--2i_yV",rowLabelContainer:"style__row-label-container--2i_yV","row-label":"style__row-label--1IngY",rowLabel:"style__row-label--1IngY","col-labels":"style__col-labels--29vsR",colLabels:"style__col-labels--29vsR","check-all-checkbox":"style__check-all-checkbox--MaCQ5",checkAllCheckbox:"style__check-all-checkbox--MaCQ5","no-children-row":"style__no-children-row--2kOEe",noChildrenRow:"style__no-children-row--2kOEe","star-icon":"style__star-icon--2LIXF",starIcon:"style__star-icon--2LIXF"}},xaoX:function(e,t){},y5rF:function(e,t,n){e.exports={container:"styles__container--2Hk4i"}},ydtQ:function(e,t,n){e.exports={wrapper:"style__wrapper--2Qpre",container:"style__container--3OOsM",checkbox:"style__checkbox--2Z862",indeterminate:"style__indeterminate--3DqOl",checked:"style__checked--3Lnw5"}},z0x8:function(e,t,n){e.exports={container:"style__container--38Uru"}},z73H:function(e,t,n){e.exports={menu:"style__menu--3fUNO",submenu:"style__submenu--3Nat7"}}},[["2YZa",1,2]]]);